SELECT p.name AS product_name FROM product_product p ORDER BY (SELECT SUM(sol.product_uom_qty) FROM sale_order_line sol WHERE sol.product_id = p.id) DESC LIMIT 10;
SELECT res_partner.name AS customer_name FROM res_partner WHERE res_partner.id IN (SELECT partner_id FROM sale_order GROUP BY partner_id ORDER BY SUM(amount_total) DESC LIMIT 1);
SELECT SUM(amount_total) AS total_sales_revenue FROM account_invoice WHERE EXTRACT(MONTH FROM create_date) = EXTRACT(MONTH FROM CURRENT_DATE);
SELECT SUM(amount_total) AS total_sales_revenue FROM sale_order WHERE EXTRACT(QUARTER FROM date_order) = EXTRACT(QUARTER FROM CURRENT_DATE) AND EXTRACT(YEAR FROM date_order) = EXTRACT(YEAR FROM CURRENT_DATE);
SELECT SUM(sale_order.amount_total) AS total_sales_revenue FROM sale_order WHERE EXTRACT(year FROM sale_order.date_order) = EXTRACT(year FROM CURRENT_DATE);
SELECT COUNT(id) AS total_sales_orders FROM sale_order WHERE create_date >= NOW() - INTERVAL '7 days';
SELECT AVG(amount_total) AS average_order_value FROM sale_order WHERE EXTRACT(MONTH FROM create_date) = EXTRACT(MONTH FROM CURRENT_DATE) AND EXTRACT(YEAR FROM create_date) = EXTRACT(YEAR FROM CURRENT_DATE);
SELECT AVG(amount_total) AS average_order_value FROM sale_order WHERE date_part('quarter', date_order) = date_part('quarter', CURRENT_DATE);
SELECT AVG(amount_total) AS average_order_value FROM sale_order WHERE date_order >= '2023-01-01' AND date_order < '2024-01-01';
SELECT res_users.name AS salesperson_name, COUNT(sale_order.id) AS total_orders FROM sale_order JOIN res_users ON sale_order.user_id = res_users.id GROUP BY res_users.name;
SELECT pt.categ_id AS category_id, SUM(sol.price_subtotal) AS total_category_revenue FROM product_template pt JOIN product_product pp ON pt.id = pp.product_tmpl_id JOIN sale_order_line sol ON pp.id = sol.product_id GROUP BY pt.categ_id;
SELECT SUM(sale_order_line.product_uom_qty) AS total_units_sold FROM sale_order_line WHERE sale_order_line.product_id = (SELECT id FROM product_product WHERE name = 'specific_product_name');
SELECT so.name AS order_number FROM sale_order AS so WHERE so.id IN (SELECT order_id FROM sale_order_line WHERE discount != 0);
SELECT SUM(discount_amount) AS total_discount_amount FROM (SELECT (so.amount_total - sol.price_subtotal) AS discount_amount FROM sale_order AS so JOIN sale_order_line AS sol ON so.id = sol.order_id) as subquery;
SELECT AVG(sales_order.date_order - crm_lead.date_conversion) AS average_conversion_time FROM crm_lead JOIN sale_order ON crm_lead.partner_id = sale_order.partner_id;
SELECT name FROM sale_order WHERE id NOT IN (SELECT order_id FROM account_move WHERE order_id IS NOT NULL);
SELECT COUNT(id) AS canceled_orders FROM sale_order_cancel WHERE DATE_PART('month', date) = DATE_PART('month', CURRENT_DATE - INTERVAL '1 month');
SELECT COUNT(*) AS canceled_orders_count FROM sale_order_cancel WHERE EXTRACT(QUARTER FROM cancellation_date) = EXTRACT(QUARTER FROM CURRENT_DATE) - 1;
SELECT COUNT(id) AS num_canceled_orders FROM sale_order_cancel WHERE DATE_PART('year', create_date) = DATE_PART('year', CURRENT_DATE) - 1;
SELECT so.name AS order_number FROM sale_order AS so WHERE so.id IN (SELECT s.id FROM sale_order AS s WHERE s.id NOT IN (SELECT ap.sale_order_id FROM account_payment AS ap));
SELECT product_product.name AS product_name, (SELECT AVG(EXTRACT(EPOCH FROM (delivery_date - confirmation_date)) / 86400) FROM sale_order WHERE product_id = product_product.id) AS average_lead_time FROM product_product;
SELECT COUNT(*) AS new_customers_orders FROM sale_order WHERE partner_id IN (SELECT id FROM res_partner WHERE is_company = 'f');
SELECT COUNT(*) AS existing_customers_orders FROM sale_order WHERE partner_id IN (SELECT id FROM res_partner WHERE is_company = 't');
SELECT so.name FROM sale_order AS so WHERE so.id IN (SELECT order_id FROM sale_order_option);
SELECT res_country.name AS country_name, COUNT(sale_order.id) AS total_orders FROM sale_order JOIN res_partner ON sale_order.partner_id = res_partner.id JOIN res_country ON res_partner.country_id = res_country.id GROUP BY res_country.name;
SELECT res_country.name AS shipping_destination, COUNT(sale_order.name) AS total_orders FROM sale_order JOIN res_partner ON sale_order.partner_id = res_partner.id JOIN res_country ON res_partner.country_id = res_country.id GROUP BY res_country.name;
SELECT res_partner.name AS customer_name, COUNT(sale_order.id) AS total_orders_placed FROM res_partner JOIN sale_order ON sale_order.partner_id = res_partner.id WHERE res_partner.customer_segment = 'retail' GROUP BY res_partner.name;
SELECT (SELECT COUNT(id) FROM sale_order WHERE EXTRACT(DOW FROM date_order) IN (0, 6)) AS weekend_orders, (SELECT COUNT(id) FROM sale_order WHERE EXTRACT(DOW FROM date_order) IN (1, 2, 3, 4, 5)) AS weekday_orders;
SELECT AVG(discount) AS average_discount_percentage FROM (SELECT (1 - (amount_total / (amount_untaxed + amount_tax))) * 100 AS discount FROM sale_order) AS subquery;
SELECT name AS order_number FROM sale_order WHERE id IN (SELECT id FROM sale_order WHERE partner_shipping_id IS NOT NULL);
SELECT COUNT(*) AS total_orders_via_mobile_app FROM sale_order WHERE id IN (SELECT order_id FROM mail_message WHERE model = 'sale.order' AND message_type = 'comment' AND body LIKE '%mobile app%');
SELECT AVG(total_products_ordered) AS average_products_per_order FROM (SELECT so.name AS order_number, (SELECT SUM(sol.product_uom_qty) FROM sale_order_line sol WHERE sol.order_id = so.id) AS total_products_ordered FROM sale_order AS so) AS subquery;
SELECT so.name AS order_number FROM sale_order AS so JOIN sale_order_line AS sol ON so.id = sol.order_id WHERE sol.qty_to_deliver > 0;
SELECT COUNT(*) AS total_orders FROM sale_order WHERE utm_source = 'online store';
SELECT name AS sales_order FROM sale_order_option WHERE special_pricing_agreement = True;
SELECT COUNT(sale_order.id) AS total_orders FROM sale_order JOIN res_partner ON sale_order.partner_id = res_partner.id WHERE res_partner.utm_campaign_id = (SELECT id FROM utm_campaign WHERE name = 'specific_campaign');
SELECT AVG(EXTRACT(EPOCH FROM account_payment.payment_date - sale_order.confirmation_date))/86400 AS average_lead_time FROM sale_order JOIN account_payment ON sale_order.id = account_payment.sale_order_id WHERE account_payment.state = 'posted' AND sale_order.state = 'sale';
SELECT so.name AS order_number FROM sale_order so WHERE so.utm_source = 'website' INTERSECT SELECT so.name AS order_number FROM sale_order so WHERE so.utm_campaign = 'contact form';
SELECT COUNT(sale_order.id) AS total_orders_placed FROM sale_order JOIN res_partner ON sale_order.partner_id = res_partner.id JOIN res_partner_industry ON res_partner.industry_id = res_partner_industry.id WHERE res_partner_industry.name = 'particular industry or sector';
SELECT COUNT(so.name) AS standard_shipping_orders FROM sale_order AS so WHERE so.id IN (SELECT so_id FROM sale_order_option WHERE shipping_method = 'standard shipping')
SELECT so.name AS order_number FROM sale_order AS so WHERE so.id IN (SELECT DISTINCT sol.order_id FROM sale_order_line AS sol WHERE sol.price_unit <> sol.product_id);
SELECT COUNT(name) AS total_sales_orders FROM sale_order WHERE partner_id IN (SELECT id FROM res_partner WHERE credit_limit = specific_credit_limit);
SELECT AVG(sale_order.date_order - crm_lead.create_date) AS average_conversion_days FROM crm_lead JOIN sale_order ON crm_lead.id = sale_order.id;
SELECT so.name AS order_number FROM sale_order AS so WHERE so.id IN (SELECT res_id FROM ir_attachment WHERE res_model = 'sale.order' AND datas_fname LIKE '%specifications%');
SELECT COUNT(*) AS total_promotional_orders FROM sale_order WHERE id IN (SELECT order_id FROM sale_order_option WHERE promotional_period = True);
SELECT utm_source, COUNT(name) AS order_count FROM sale_order WHERE utm_medium = 'online_advertisement' GROUP BY utm_source;
SELECT so.name AS order_number FROM sale_order AS so WHERE so.user_id = (SELECT id FROM res_users WHERE name = 'specific_sales_team_member');
SELECT COUNT(*) AS total_sales_orders FROM sale_order WHERE partner_id IN (SELECT id FROM res_partner WHERE city = 'desired_city_or_region');
SELECT AVG(DATEDIFF(ship_done, confirmation_date)) AS average_fulfillment_time FROM (SELECT so.name AS order_number, (SELECT MIN((merge_date + interval '1 day')) FROM stock_move WHERE state = 'done' AND origin = so.name) AS ship_done, (SELECT MIN(write_date) FROM sale_order_transition WHERE state_from = 'sent' AND sale_order_id = so.id) AS confirmation_date FROM sale_order AS so WHERE (SELECT MIN((merge_date + interval '1 day')) FROM stock_move WHERE state = 'done' AND origin = so.name) IS NOT NULL AND (SELECT MIN(write_date) FROM sale_order_transition WHERE state_from = 'sent' AND sale_order_id = so.id) IS NOT NULL) AS fulfillment_times;
SELECT sale_order.name AS sales_order_number FROM sale_order WHERE sale_order.id IN (SELECT account_move_line.sale_line_id FROM account_move_line WHERE account_move_line.sale_line_id IS NOT NULL INTERSECT SELECT account_move_line.sale_line_id FROM account_move_line WHERE account_move_line.full_reconcile_id IS NULL);
SELECT COUNT(DISTINCT so.id) AS total_orders FROM sale_order AS so WHERE so.id IN (SELECT sol.order_id FROM sale_order_line AS sol JOIN product_template_attribute_value AS ptav ON sol.product_template_attribute_value_id = ptav.id JOIN product_attribute_value AS pav ON ptav.product_attribute_value_id = pav.id WHERE pav.name = 'size');
SELECT COUNT(*) AS sales_order_count FROM sale_order WHERE payment_term_id IN (SELECT id FROM account_payment_term WHERE name = 'Cash on Delivery');
SELECT sot.sale_order_name AS order_number FROM sale_order_tag_rel AS sotr JOIN sale_order_template_option AS soto ON sotr.tag_id = soto.id JOIN (SELECT sale_order.id, sale_order.name AS sale_order_name FROM sale_order) AS sot ON sot.id = sotr.order_id WHERE soto.name = 'specific_tag';
SELECT COUNT(sale_order.id) AS total_orders FROM sale_order JOIN account_payment ON sale_order.partner_id = account_payment.partner_id WHERE account_payment.payment_history = 'late payment';
SELECT product_category.name AS category_name, AVG((sol.price_unit - pp.standard_price) / sol.product_uom_qty) AS average_profit_margin FROM sale_order_line sol JOIN product_product pp ON sol.product_id = pp.id JOIN product_template ON pp.product_tmpl_id = product_template.id JOIN product_category ON product_template.categ_id = product_category.id GROUP BY product_category.name;
SELECT sale_order.name AS sales_order_number FROM sale_order_tag_rel JOIN sale_order ON sale_order.id = sale_order_tag_rel.order_id JOIN sale_order_template ON sale_order.template_id = sale_order_template.id WHERE sale_order_template_option.name = 'special_attention' INTERSECT SELECT sale_order.name AS sales_order_number FROM sale_order_tag_rel JOIN sale_order ON sale_order.id = sale_order_tag_rel.order_id JOIN sale_order_template ON sale_order.template_id = sale_order_template.id WHERE sale_order_template_option.name = 'follow_up';
SELECT product_product.name AS product_name FROM product_product WHERE product_product.id IN (SELECT product_id FROM sale_order_line GROUP BY product_id ORDER BY SUM(price_subtotal - product_uom_qty*standard_price) DESC LIMIT 1);
